[Unit]
Description=nginx_vts_exporter - Exporter for machine metrics.
Documentation=https://github.com/William-Yeh/ansible-prometheus
After=network.target

[Service]
Type=simple

PIDFile={{ prometheus_pid_path }}/nginx_vts_exporter.pid

User={{ prometheus_user }}
Group={{ prometheus_group }}

{% if prometheus_nginx_vts_exporter_opts is defined %}
ExecStart={{ prometheus_nginx_vts_exporter_daemon_dir }}/bin/nginx-vts-exporter  {{ prometheus_nginx_vts_exporter_opts }} 2>&1 1>{{ prometheus_log_path }}/nginx_vts_exporter.log
{% else %}
ExecStart={{ prometheus_nginx_vts_exporter_daemon_dir }}/bin/nginx-vts-exporter 2>&1 1>{{ prometheus_log_path }}/nginx_vts_exporter.log
{% endif %}
